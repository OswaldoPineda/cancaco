<div class="bg-light border-top">
  <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
    <%= render "devise/shared/error_messages", resource: resource %>
    <div class="container border rounded pt-3 pb-5 px-5 mt-3">
      <div class="row mb-3 mt-1">
        <div class="col text-center">
          <p class="my-0">¿Eres afiliado?</p>
          <h4 class="my-0">Registra tu empresa hoy</h4>
          <p class="my-0 font-weight-light">Comienza a disfrutar de los beneficios</p>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12 col-md"> 
            <%= f.label :"nombre*" %>
            <%= f.text_field :first_name, autocomplete: "first_name", class: "form-control" %>
            <%= f.label :"apellidos*" %>
            <%= f.text_field :last_name, autocomplete: "last_name", class: "form-control" %>
            <%= f.label :"Correo electrónico*" %>
            <%= f.email_field :email, autocomplete: "email", class: "form-control" %>
            <%= f.label :"Contraseña*" %>
            <%= f.password_field :password, autocomplete: "new-password", class: "form-control" %>
            <%= f.label :"Confirma tu contraseña*" %><br />
            <%= f.password_field :password_confirmation, autocomplete: "new-password", class: "form-control" %>
            <small class="text-muted">&#9432; La contraseña debe tener al menos 6 caracteres.</small>
        </div>
        <div class="col-sm-12 col-md">
          <%= f.fields_for :company, Company.new do |company_fields|%>
            <%= company_fields.label :"Número de Afiliación*" %>
            <%= company_fields.text_field :affiliation, autocomplete: "affiliation", class: "form-control" %>
            <%= company_fields.label :"Nombre de la empresa*" %>
            <%= company_fields.text_field :name, autocomplete: Company.name, class: "form-control" %>
            <%= company_fields.label :"Teléfono fijo*" %>
            <%= company_fields.text_field :phone, autocomplete: "phone", class: "form-control" %>
            <%= company_fields.label :"Teléfono móvil" %>
            <%= company_fields.text_field :cellphone, autocomplete: "cellphone", class: "form-control" %>
          <% end %>
        </div>
        <div class="col-sm-12 col-md"> 
          <%= f.fields_for :company, Company.new do |company_fields|%>
            <%= company_fields.fields_for :address, Address.new do |address_fields|%>
              <%= address_fields.label :"Código postal*" %>
              <%= address_fields.text_field :zip_code, autocomplete: "zip_code", class: "form-control",id: "zip_code" %>
              <%= address_fields.label :"Ciudad*" %>
              <%= address_fields.text_field :city, autocomplete: "city", class: "form-control", id: "city" %>
              <%= address_fields.label :"Estado*" %>
              <%= address_fields.text_field :state, autocomplete: "state", class: "form-control", id: "state" %>
              <%= address_fields.label :"Colonia*" %>
              <%= address_fields.select :neighborhood, options_for_select(['No hay codigo postal']),{}, {class: "form-control", id: "neighborhood"} %>
              <%= address_fields.label :"Calle*" %>
              <%= address_fields.text_field :street, autocomplete: "street", class: "form-control" %>
              <div class="row">
                <div class="col">
                  <%= address_fields.label :"No exterior*" %>
                  <%= address_fields.text_field :outdoor_number, autocomplete: "outdoor_number", class: "form-control" %>
                </div>
                <div class="col">
                  <%= address_fields.label :"NO interior*" %>
                  <%= address_fields.text_field :interior_number, autocomplete: "interior_number", class: "form-control" %>
                </div>
              </div>
            <% end %>
          <% end %>
        </div>
      </div>
      <div class="row mt-3">
        <div class="col-xs-12 col-md-4">
          <p class="small text-sm-center text-md-left">Al continuar aceptas las condiciones de uso y el aviso de privacidad de CANACO</p>
        </div>
        <div class="col-xs-12 col-md-4">
          <%= f.submit "Crear tu cuenta", class: "btn btn-block bg-secondary mt-1"  %>
        </div>
      </div>
    </div>
    <div class="container my-5">
      <div class="row justify-content-center">
        <div class="col-md-8 border-top border-dark">
          <div class="row mt-3 justify-content-around">
            <a href="#">Condiciones de uso</a>
            <a href="#">Aviso de privacidad</a>
            <a href="#">Ayuda</a>
          </div>
          <div class="row mt-3">
            <div class="col">
              <p class="text-center font-weight-light">&copy; 1990-2019, CANACO o afiliados. Todos los derechos reservados</p>
            </div>
          <div>
        </div>
      </div>
    </div>
  <% end %>
</div>

<script type="text/javascript">
  $(document).on('turbolinks:load', function() {
    window.Canaco.Signup.init();
  })
</script>