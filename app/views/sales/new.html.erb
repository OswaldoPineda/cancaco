<div class="container-fluid">
  <div class="row d-flex justify-content-center">
    <div class="col-12 bg-white col-md-11 px-0 mb-5 d-flex justify-content-center">
      <div
        class="form-container bg-light border rounded col-12 col-md-8 d-flex justify-content-center flex-wrap py-3 mt-sm-4 mb-5">
        <div class="w-100 mt-3 ml-3">
          <%= link_to "Categorias", categories_sales_path %> &gt;
          <%= link_to "Subcategorias", :back %> &gt; venta
        </div>
        <div class="text-center w-100 my-4">
          <h1 class="title"><%= @category.title %></h1>
          <% unless @subcategory.nil? %>
            <h5 class="text-muted">( <%= @subcategory.title %> )</h5>
          <% end %>
          <h2 class="subtitle">Describe el producto que vendes</h2>
        </div>
        <div class="form-body col-12 col-md-10">
          <%= form_for @sale, url: sales_path do |f| %>
            <% @error_messages = @sale.errors.messages %>
            <%= f.text_field :title,
                             class: "form-control form-control-lg",
                             placeholder: "¿Qué estás vendiendo?" %>
            <div class="invalid-feedback">
              <%= invalid_feedback_message(messages: @error_messages, field: :title) %>
            </div>
            <%= f.hidden_field :category_id %>
            <%= f.hidden_field :subcategory_id %>
            <%= f.text_area :description,
                            class: "form-control form-control-lg mt-5",
                            style: "height:250px",
                            placeholder: "¿Qué incluye? Describelo detalladamente" %>
            <div class="invalid-feedback">
              <%= invalid_feedback_message(messages: @error_messages, field: :description) %>
            </div>
            <%= f.text_area :extra_info,
                            class: "form-control form-control-lg mt-5",
                            style: "height:250px",
                            placeholder: "Más información" %>
            <div class="invalid-feedback">
              <%= invalid_feedback_message(messages: @error_messages, field: :extra_info) %>
            </div>
            <div class="d-flex flex-wrap form-group justify-content-between">
              <div class="d-flex flex-wrap col-12 col-md-5 px-0">
                <%= f.number_field :quantity,
                                   min: 1,
                                   step: 0.10,
                                   class: "form-control form-control-lg mt-5 w-100 validity-number",
                                   placeholder: "Ingresa cantidad (0.00)" %>
                <div class="invalid-feedback inline">
                  <%= invalid_feedback_message(messages: @error_messages, field: :quantity) %>
                </div>
              </div>
                <div class="col-12 col-md-6 px-0 mt-5">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text">$</span>
                    </div>
                    <%= f.number_field :price,
                                       class: "form-control form-control-lg validity-number",
                                       placeholder: "Precio",
                                       min: 1 %>
                    <div class="input-group-append">
                      <span class="input-group-text">.00</span>
                    </div>
                  <div class="invalid-feedback inline">
                    <%= invalid_feedback_message(messages: @error_messages, field: :price) %>
                  </div>
                </div>
              </div>
            </div>
            <div class="form-group d-flex justify-content-end">
              <%= f.submit 'Vender', class: "btn primary-button btn-lg col-12 col-sm-4" %>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
